<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:stf="http://www.stf.jus.br/custom-components">

	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="principal" />
		<ui:define name="descricao">Insira uma observação, se necessário:</ui:define>
		<ui:define name="conteudo">

			<s:decorate template="/common/decorators/edit.xhtml">		
				<ui:define name="label">Responsável:</ui:define>
				<h:inputText id="txtResponsavel" size="47"					 
					style="width: 300px" converter="responsavelConverter"/>
				<rich:suggestionbox id="sgResponsavel" for="txtResponsavel"
					width="300" height="150" var="obj" 
					fetchValue="#{obj}" nothingLabel="Nenhum registro encontrado."
					suggestionAction="#{responsavelFacesBean.search}">
					<h:column>
						<h:outputText value="#{obj}" styleClass="sugestao" />
					</h:column>
					<a:support event="onselect" eventsQueue="ajaxQueue" ignoreDupResponses="true">
						<f:setPropertyActionListener value="#{obj}" target="#{actionFacesBean.responsavel}" />
					</a:support>
				</rich:suggestionbox>
			</s:decorate>						
		
			<s:decorate template="/common/decorators/edit.xhtml">
				<ui:define name="label">Observação:</ui:define>
				<h:inputTextarea value="#{actionFacesBean.observacao}"
					rows="5" cols="60" style="width: 300px" onkeyup="this.value = this.value.substring(0, 500);"/>
			</s:decorate>
			<s:div style="margin: 3px 0px; text-align: center; font-size: 1.2em;" styleClass="vermelho" rendered="#{principalFacesBean.temImpedimento}">Anotação de Impedimento ou Suspeição</s:div>
		</ui:define>
		<ui:define name="botoes">
           	<a:commandButton value="Confirmar" action="#{actionFacesBean.validateAndExecute}" reRender="actionModalPanel" oncomplete="showActionPanel('panelItem', #{actionFacesBean.definition.width}, #{actionFacesBean.definition.height})" eventsQueue="ajaxQueue"
							ignoreDupResponses="true"/>
		</ui:define>
	</s:decorate>
	
	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="warnings"/>
		<ui:define name="descricao">Os seguintes textos estão em lista de textos iguais. Esta operação afetará todos os textos desta lista que pertencem ao gabinete.</ui:define> 
		<ui:define name="conteudo">
			<stf:messages level="INFO" />
			<div>Total de textos iguais: #{actionFacesBean.textosIguaisAdicionados.size}</div>
		</ui:define>
		<ui:define name="botoes">
           	<a:commandButton value="Continuar" action="#{actionFacesBean.execute}" reRender="actionModalPanel" oncomplete="showActionPanel('panelItem', #{actionFacesBean.definition.width}, #{actionFacesBean.definition.height})" eventsQueue="ajaxQueue"
							ignoreDupResponses="true"/>
		</ui:define>
	
	</s:decorate>
		<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="votoVogal"/>
		<ui:define name="descricao">ATENÇÃO: A assinatura do voto vogal deve ocorrer após o encerramento da sessão. Os texto(s) abaixo pertencem a processos cujas sessões ainda estão em andamento. Você deseja liberar para assinatura assim mesmo?</ui:define> 
		<ui:define name="conteudo">
			<stf:messages level="INFO" />
			<div>Total de textos pertencentes à sessões virtuais em andamento: #{actionFacesBean.processosSessaoVirtualAberta.size}</div>
		</ui:define>
		<ui:define name="botoes">
           	<a:commandButton value="Continuar" action="#{actionFacesBean.execute}" reRender="actionModalPanel" oncomplete="showActionPanel('panelItem', #{actionFacesBean.definition.width}, #{actionFacesBean.definition.height})" eventsQueue="ajaxQueue"
							ignoreDupResponses="true"/>
		</ui:define>
	</s:decorate>
	
</ui:composition>
