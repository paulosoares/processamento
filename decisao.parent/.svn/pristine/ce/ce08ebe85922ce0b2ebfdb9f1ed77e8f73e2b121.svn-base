<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:stf="http://www.stf.jus.br/custom-components">

	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="principal" />
		<ui:param name="esconderBotoes" value="true" />
		<ui:define name="descricao">Preencha a conclusão do voto a ser exibido no Portal do STF:</ui:define>
		
		<ui:define name="conteudo">
			<c:if test="#{!actionFacesBean.listaProcessada}">
				<div><stf:messages level="WARN,ERROR" /></div>
			</c:if>
			
			<c:if test="#{actionFacesBean.listaProcessada}">				
				<rich:editor value="#{actionFacesBean.preLista.cabecalho}" theme="advanced" width="300" height="250" id="CabecalhoDaLista" 
					rendered="#{actionFacesBean.listaProcessada}">
					<f:param name="theme_advanced_buttons1" value="bold,italic,underline,separator,justifyleft,justifycenter,justifyright,separator,fontsizeselect,cut,copy,paste,pastetext,pasteword,separator,undo,redo,separator,bullist,numlist" />			          
		   			<f:param name="theme_advanced_buttons2" value="" />
		   			<f:param name="theme_advanced_buttons3" value="" />
				</rich:editor>
				<h:panelGrid id="grid" columns="1">
					<h:panelGroup>
						<h:selectBooleanCheckbox id="mostrarPartes" class="revisarCheckbox" value="#{actionFacesBean.mostrarPartes}" />
						<h:outputLabel value="Incluir Partes" for="mostrarPartes" />
					</h:panelGroup>
					<h:panelGroup>							
						<h:selectBooleanCheckbox id="mostrarEmenta" class="revisarCheckbox" value="#{actionFacesBean.mostrarEmenta}" />
						<h:outputLabel value="Incluir Ementa" for="mostrarEmenta" />
					</h:panelGroup>
					<h:panelGroup>
						<h:selectBooleanCheckbox id="mostrarObservacao" class="revisarCheckbox" value="#{actionFacesBean.mostrarObservacao}" />
						<h:outputLabel value="Incluir Observação" for="mostrarObservacao" />				
					</h:panelGroup>	
				</h:panelGrid>
			</c:if>
		</ui:define>		
		<ui:define name="botoes">
			<c:if test="#{actionFacesBean.listaProcessada}">
				<input id="selecionados" type="hidden" value="RTF"/>
				<!--  
					<h:outputLabel value="Formato" for="formatoRelatorio" styleClass="name" style="float: none" />
					<h:selectOneMenu id="formatoRelatorio" value="#{actionFacesBean.formatoRelatorio}">
						<s:enumItem enumValue="PDF" label="PDF" />
						<s:enumItem enumValue="RTF" label="RTF" />
					</h:selectOneMenu>
				-->
				<h:commandButton value="Gerar" action="#{actionFacesBean.execute}"/>
			</c:if>	
				
			<h:commandButton
				value="Fechar" 
				reRender="actionModalPanel"
				ignoreDupResponses="true" 
				action="#{actionFacesBean.sendToConfirmation}"
				/>		
		</ui:define>
	</s:decorate>
	
	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="final" />
		<ui:define name="descricao">Resultado da operação:</ui:define>
		<ui:define name="conteudo">
			<c:if test="#{actionFacesBean.listaProcessada}">
				<div>
				<div>Operação realizada com sucesso!</div>
				<stf:messages level="INFO" passed="true"/></div>
			</c:if>
			<c:if test="#{!actionFacesBean.listaProcessada}">
				<div>
				<div class="vermelho">Não foi possível gerar o PDF da lista selecionada!</div>
				<stf:messages level="WARN,ERROR" /></div>
			</c:if>
		</ui:define>
	</s:decorate>

</ui:composition>
