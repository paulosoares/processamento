<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:stf="http://www.stf.jus.br/custom-components">

   	<s:decorate id="adicionarProcessos" template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="principal"/>
		<ui:define name="descricao">
			Mover o texto para o seguinte incidente:
		</ui:define>		
		<ui:define name="conteudo">
			<s:decorate template="/common/decorators/edit.xhtml">
	            <ui:define name="label">Incidente:</ui:define>

						<h:selectOneMenu id="incidentes" value="#{actionFacesBean.idIncidente}" required="true" style="width: 550px;">
					<f:selectItems value="#{actionFacesBean.incidentesDisponiveis}"/>
					<a:support event="onchange" reRender="nomePanel" eventsQueue="ajaxQueue"
							ignoreDupResponses="true"/>
				</h:selectOneMenu>
				

			</s:decorate>

        </ui:define>
		<ui:define name="botoes">
           	<a:commandButton value="Mover o Texto" action="#{actionFacesBean.execute}" reRender="actionModalPanel" 
           				oncomplete="showActionPanel('panelItem', #{actionFacesBean.definition.width}, #{actionFacesBean.definition.height})" eventsQueue="ajaxQueue"
							ignoreDupResponses="true"/>
		</ui:define>
	</s:decorate>
	
	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="warnings"/>
		<ui:define name="descricao">
			<h:graphicImage value="/common/images/warning.gif"/>&nbsp;&nbsp;Erro ao mover o texto
		</ui:define> 
		<ui:define name="conteudo">
			<stf:messages level="ERROR" />
		</ui:define>
	</s:decorate>
	
	
	<s:decorate template="/acoes/support/action.template.xhtml">
	<ui:param name="facetName" value="confirmado1" />
	<ui:define name="descricao" value="#{actionFacesBean.nomeRecurso}">Texto movido com sucesso.</ui:define>
	<ui:define name="conteudo">
	<a:outputPanel id="panelMessage">
	<stf:messages height="32px" styleClass="noBorder" />	
	</a:outputPanel>
	</ui:define>
	<ui:define name="botoes">
	<a:commandButton value="Concluído" action="#{principalFacesBean.init()}" rendered="#{not (actionFacesBean.refresh or actionFacesBean.actionFrame)}"
	reRender="resultPanel, actionModalPanel, panelMenuAssinar, pesquisaPrincipal" immediate="true" ajaxSingle="true" eventsQueue="ajaxQueue"
	oncomplete="#{principalFacesBean.init()}" ignoreDupResponses="true">
	<rich:componentControl for="panelItem" attachTo="close" operation="hide" event="onclick"/>
	</a:commandButton>	
	</ui:define>
</s:decorate>

	<s:decorate template="/acoes/support/action.template.xhtml">
		<ui:param name="facetName" value="confirmado"/>
		<ui:define name="descricao">
			<h:graphicImage value="/common/images/warning.gif"/>&nbsp;&nbsp;Resultado da operação:
		</ui:define> 
		<ui:define name="conteudo">
			<stf:messages level="INFO" />
		</ui:define>
	</s:decorate>


	<s:decorate template="/acoes/support/action.template.xhtml">
	<ui:param name="facetName" value="semincidente" />
	<ui:define name="descricao" value="#{actionFacesBean.nomeRecurso}">Não há outro incidente para mover o texto.</ui:define>
	<ui:define name="conteudo">
	<a:outputPanel id="panelMessage">
	<stf:messages height="32px" styleClass="noBorder" />	
	</a:outputPanel>
	</ui:define>
	<ui:define name="botoes">
	<a:commandButton value="Concluído" action="#{principalFacesBean.init()}" rendered="#{not (actionFacesBean.refresh or actionFacesBean.actionFrame)}"
	reRender="resultPanel, actionModalPanel, panelMenuAssinar, pesquisaPrincipal" immediate="true" ajaxSingle="true" eventsQueue="ajaxQueue"
	oncomplete="#{principalFacesBean.init()}" ignoreDupResponses="true">
	<rich:componentControl for="panelItem" attachTo="close" operation="hide" event="onclick"/>
	</a:commandButton>	
	</ui:define>
</s:decorate>
		
</ui:composition>
